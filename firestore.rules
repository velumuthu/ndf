rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Products can be read by anyone, but only managed by admins.
    match /products/{productId} {
      allow read: if true;
      allow write, delete: if true; // Allow public write for admin panel without auth
    }

    // Offers can be read by anyone, but only managed by admins.
    match /offers/{offerId} {
      allow read: if true;
      allow write, delete: if true; // Allow public write for admin panel without auth
    }
    
    // Anyone can create orders.
    match /orders/{orderId} {
      allow create: if true;
      allow read, list, update, delete: if true; // Public for now
    }

    // Anyone can create bulk orders.
    match /bulk-orders/{inquiryId} {
      allow create: if true;
      allow read, list, update, delete: if true; // Public for now
    }

    // Anyone can create stylist inquiries.
    match /stylist-inquiries/{inquiryId} {
      allow create: if true;
      allow read, list, update, delete: if true; // Public for now
    }

    // Roles collection can be managed by anyone now.
    match /roles/{role} {
      allow read, write, create, delete: if true;
    }
  }
}